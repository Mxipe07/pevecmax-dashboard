/* =======================
   Design Tokens (Dark)
   ======================= */
:root{
  --bg: #0b0f14;
  --text: #e8ebf0;
  --muted:#b8bfca;

  --glass-bg: rgba(255,255,255,0.08);
  --glass-border: rgba(255,255,255,0.18);
  --glass-inner: rgba(255,255,255,0.06);

  --shadow: 0 10px 40px rgba(0,0,0,0.35);
  --radius-xl: 28px;
  --radius-lg: 22px;
  --pad-card: 18px;

  --good: #38e27d;
  --warn: #ffb020;
  --bad:  #9aa2ac;

  --backdrop-blur: 22px;
  --maxw: 980px;
}

/* =======================
   Theme: Light Overrides
   ======================= */
html[data-theme="light"]{
  --bg: #f5f7fb;
  --text: #0d1220;
  --muted:#5c6578;

  /* Glas bleibt grau & transluzent, nur Helligkeit angepasst */
  --glass-bg: rgba(255,255,255,0.65);
  --glass-border: rgba(0,0,0,0.06);
  --glass-inner: rgba(255,255,255,0.75);

  --shadow: 0 8px 30px rgba(0,0,0,0.12);
  --good: #0ea86b;
  --warn: #c97a08;
  --bad:  #9aa3ad;
}

*{ box-sizing: border-box; -webkit-tap-highlight-color: transparent }
html,body{ height:100% }
body{
  margin:0; color:var(--text);
  font:500 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "SF Pro Text", Arial, sans-serif;
  background: var(--bg);
  overflow-x:hidden;
  transition: background-color .3s ease, color .3s ease;
}

#aurora{
  position:fixed; inset:0; width:100%; height:100%; z-index:-1;
}

/* Header */
.site-header{
  max-width:var(--maxw); margin:48px auto 24px; padding:0 16px;
}
.site-title{
  margin:0; letter-spacing:.4px;
  font-size: clamp(28px, 3.6vw + 12px, 52px);
  font-weight:800;
  text-shadow: 0 2px 18px rgba(0,0,0,.15);
}

/* Kartenliste */
.cards{
  max-width:var(--maxw);
  margin: 0 auto 80px;
  padding: 0 12px;
  display: grid;
  gap: 18px;
}

/* Glas-Karte */
.card{
  position:relative; border-radius: var(--radius-xl);
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow), inset 0 0 0 1px var(--glass-inner);
  backdrop-filter: blur(var(--backdrop-blur)) saturate(160%);
  -webkit-backdrop-filter: blur(var(--backdrop-blur)) saturate(160%);
  overflow: clip;
  transition: transform .5s cubic-bezier(.2,.7,.2,1), box-shadow .4s ease, background .3s ease, border-color .3s ease;
}
.card:where(:hover,:focus-within){
  transform: translateY(-2px);
}

/* Inhalt */
.card-body{
  display:flex; align-items:center; gap:16px;
  padding: var(--pad-card);
  min-height: 92px;
}

/* Link Overlay (öffnet Kachel) */
.card-link{ position:absolute; inset:0; z-index:1 }

/* Iconfeld */
.card-icon{
  width:72px; height:72px; min-width:72px;
  border-radius: var(--radius-lg);
  display:grid; place-items:center;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), 0 10px 30px rgba(0,0,0,.18);
}
html[data-theme="light"] .card-icon{
  background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.65));
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.9), 0 10px 24px rgba(0,0,0,.08);
}
.card-icon img{
  width:36px; height:36px; object-fit:contain;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.25));
  opacity:.95;
}

/* Text */
.card-main{ flex:1; min-width:0 }
.card-title{
  font-size: clamp(18px, 1.6vw + 10px, 26px);
  font-weight: 800; margin: 2px 0 6px; letter-spacing:.2px;
}
.card-meta{ display:flex; align-items:center; gap:12px; color:var(--muted); font-weight:600 }

/* Statuspunkt */
.dot{
  width:12px; height:12px; border-radius:50%;
  box-shadow: 0 0 10px currentColor, inset 0 0 0 1px rgba(0,0,0,.35);
}
.dot.ok{ background: var(--good); color: var(--good) }
.dot.warn{ background: var(--warn); color: var(--warn) }
.dot.off{ background: var(--bad);  color: var(--bad) }

/* Details (auf-/zuklappen beim Scroll) */
.card-details{
  padding: 0 var(--pad-card) 14px calc(var(--pad-card) + 72px + 16px);
  display:grid; gap:8px; color: var(--muted);
  max-height:0; opacity:0; transform: translateY(-6px);
  transition: max-height .6s cubic-bezier(.25,.8,.25,1), opacity .35s ease, transform .35s ease;
}
.card.expanded .card-details{
  max-height: 160px; opacity:1; transform:none;
}

/* sanfter OK-Glow (beide Themes fein) */
.card.ok{
  animation: okGlow 3s ease-in-out infinite alternate;
}
@keyframes okGlow{
  from{ box-shadow: var(--shadow) }
  to  { box-shadow: 0 16px 60px rgba(0,0,0,.40), 0 0 24px 4px rgba(56,226,125,.16) }
}

/* Footer */
.footer{ text-align:center; color:var(--muted); margin: 22px 0 38px }

/* Floating Theme Toggle */
.fab{
  position: fixed; left: 14px; bottom: 16px; z-index: 5;
  width: 46px; height: 46px; border-radius: 999px; border: 1px solid var(--glass-border);
  background: var(--glass-bg);
  backdrop-filter: blur(12px) saturate(160%);
  -webkit-backdrop-filter: blur(12px) saturate(160%);
  box-shadow: var(--shadow);
  color: var(--text);
  display:grid; place-items:center; cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease, background .3s ease, border-color .3s ease;
}
.fab:hover{ transform: translateY(-1px) }
.fab .icon{ font-size: 18px; line-height: 1 }

/* Kleinere Geräte */
@media (max-width:480px){
  :root{ --radius-xl: 26px; --radius-lg: 20px; --pad-card: 16px }
  .card-icon{ width:64px; height:64px; min-width:64px }
  .card-title{ font-size: 20px }
}